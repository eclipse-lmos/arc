(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[124],{718:(e,s,t)=>{Promise.resolve().then(t.bind(t,35989))},17037:(e,s,t)=>{"use strict";t.d(s,{F:()=>i});var l=t(95155),a=t(12115),r=t(59034),n=t(64269);let i=a.forwardRef((e,s)=>{let{className:t,children:a,...i}=e;return(0,l.jsxs)(r.bL,{ref:s,className:(0,n.cn)("relative overflow-hidden",t),...i,children:[(0,l.jsx)(r.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,l.jsx)(o,{}),(0,l.jsx)(r.OK,{})]})});i.displayName=r.bL.displayName;let o=a.forwardRef((e,s)=>{let{className:t,orientation:a="vertical",...i}=e;return(0,l.jsx)(r.VM,{ref:s,orientation:a,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...i,children:(0,l.jsx)(r.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=r.VM.displayName},27063:(e,s,t)=>{"use strict";t.d(s,{Fm:()=>u,Qs:()=>j,XW:()=>f,cj:()=>d,h:()=>x,qp:()=>p});var l=t(95155),a=t(12115),r=t(77283),n=t(83101),i=t(26615),o=t(64269);let d=r.bL;r.l9,r.bm;let c=r.ZL,h=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.hJ,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s})});h.displayName=r.hJ.displayName;let m=(0,n.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=a.forwardRef((e,s)=>{let{side:t="right",className:a,children:n,...d}=e;return(0,l.jsxs)(c,{children:[(0,l.jsx)(h,{}),(0,l.jsxs)(r.UC,{ref:s,className:(0,o.cn)(m({side:t}),a),...d,children:[n,(0,l.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,l.jsx)(i.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.UC.displayName;let u=e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};u.displayName="SheetHeader";let f=e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};f.displayName="SheetFooter";let p=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.hE,{ref:s,className:(0,o.cn)("text-lg font-semibold text-foreground",t),...a})});p.displayName=r.hE.displayName;let j=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.VY,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",t),...a})});j.displayName=r.VY.displayName},31120:(e,s,t)=>{"use strict";t.d(s,{T:()=>n});var l=t(95155),a=t(12115),r=t(64269);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...a})});n.displayName="Textarea"},35989:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>R});var l=t(95155),a=t(12115),r=t(70405),n=t(86948),i=t(3998),o=t(62044),d=t(23262),c=t(68086),h=t(15894),m=t(92033),x=t(32265),u=t(78770),f=t(74640),p=t(13630),j=t(18332),g=t(98053),N=t(27063),v=t(31120),y=t(76444),b=t(51834),w=t(65142),C=t(17037);function k(e){let{role:s,onSave:t,onCancel:r}=e,[n,d]=(0,a.useState)(""),[x,u]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),{toast:j}=(0,h.dj)(),[g,b]=(0,o.n_)(c.vH);(0,a.useEffect)(()=>{s&&(d(s.name),u(s.role||""),p(s.tone||""))},[s]);let k=async()=>{let e=await b({id:s.id,name:n,tags:s.tags||[],role:x,tone:f});e.error?j({variant:"destructive",title:"Error saving role",description:e.error.message}):(j({title:"Role Saved",description:'The role "'.concat(n,'" has been successfully saved.')}),t())};return(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)(N.Fm,{children:[(0,l.jsx)(N.qp,{children:"Edit Role"}),(0,l.jsx)(N.Qs,{children:"Make changes to the role's properties below."})]}),(0,l.jsx)(C.F,{className:"flex-1 -mr-6 pr-6",children:(0,l.jsxs)("div",{className:"py-4 space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(y.J,{htmlFor:"role-name",children:"Name"}),(0,l.jsx)(w.p,{id:"role-name",value:n,onChange:e=>d(e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(y.J,{htmlFor:"role-role",children:"Role"}),(0,l.jsx)(v.T,{id:"role-role",value:x,onChange:e=>u(e.target.value),className:"resize-y",placeholder:"Describe the role of the assistant...",rows:Math.max(6,x.split("\n").length)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(y.J,{htmlFor:"role-tone",children:"Tone"}),(0,l.jsx)(v.T,{id:"role-tone",value:f,onChange:e=>p(e.target.value),className:"resize-y",placeholder:"Describe the tone of the assistant...",rows:Math.max(4,f.split("\n").length)})]})]})}),(0,l.jsxs)(N.XW,{className:"mt-auto pt-4",children:[(0,l.jsx)(i.$,{variant:"outline",onClick:r,children:"Cancel"}),(0,l.jsxs)(i.$,{onClick:k,disabled:g.fetching,children:[g.fetching&&(0,l.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})}function R(){let[e,s]=(0,o.IT)({query:d.sz,requestPolicy:"cache-and-network"}),{data:t,fetching:C,error:R}=e,[A,T]=(0,a.useState)(!1),[F,S]=(0,a.useState)(null),[z,E]=(0,a.useState)(!1),[L,P]=(0,a.useState)(""),[q,M]=(0,a.useState)(""),[_,J]=(0,a.useState)(""),[$,O]=(0,a.useState)(null),{toast:D}=(0,h.dj)(),[V,Z]=(0,o.n_)(c.j_),[H,W]=(0,o.n_)(c.vH),X=(null==t?void 0:t.rolePrompts)||[],Q=e=>{O(null),e&&s({requestPolicy:"network-only"})},U=async()=>{if(!F)return;let e=await Z({id:F.id});e.error?D({variant:"destructive",title:"Error deleting role",description:e.error.message}):(D({title:"Role deleted",description:'The role "'.concat(F.name,'" has been successfully deleted.')}),s({requestPolicy:"network-only"})),T(!1),S(null)},Y=async()=>{if(!L.trim())return void D({variant:"destructive",title:"Name is required",description:"Please provide a name for the new role."});if(!q.trim())return void D({variant:"destructive",title:"Role is required",description:"Please provide a role prompt."});let e=L.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),t=await W({id:e,name:L.trim(),tags:[],role:q.trim(),tone:_.trim()});t.error?D({variant:"destructive",title:"Error creating role",description:t.error.message}):(D({title:"Role Created",description:'The role "'.concat(L.trim(),'" has been successfully created.')}),E(!1),s({requestPolicy:"network-only"}))},B=e=>{E(e),e||(P(""),M(""),J(""))};return(0,l.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-background",children:[(0,l.jsx)(r.default,{}),(0,l.jsxs)("main",{className:"flex flex-1 flex-col px-4 pb-4 md:px-6 md:pb-6",children:[(0,l.jsxs)("div",{className:"my-6 flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Roles"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"The roles define the persona and the tone of the agents."})]}),(0,l.jsxs)(i.$,{onClick:()=>B(!0),children:[(0,l.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"New Role"]})]}),(0,l.jsx)("div",{className:"flex-1 rounded-lg bg-muted/50 p-6",children:C?(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,l.jsx)(m.A,{className:"h-8 w-8 animate-spin"})}):R?(0,l.jsxs)(j.Fc,{variant:"destructive",children:[(0,l.jsx)(u.A,{className:"h-4 w-4"}),(0,l.jsx)(j.XL,{children:"Error"}),(0,l.jsxs)(j.TN,{children:["Failed to load roles: ",R.message]})]}):X.length>0?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(e=>(0,l.jsxs)(n.Zp,{className:"flex flex-col",children:[(0,l.jsxs)(n.aR,{className:"flex flex-row justify-between items-start pb-2",children:[(0,l.jsx)("div",{className:"flex-grow space-y-1",children:(0,l.jsx)(n.ZB,{className:"text-lg",children:e.name})}),(0,l.jsxs)("div",{className:"flex -mr-2 -mt-2",children:[(0,l.jsx)(i.$,{asChild:!0,variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),O(e)},children:(0,l.jsxs)("span",{className:"cursor-pointer",children:[(0,l.jsx)(f.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Edit"})]})}),(0,l.jsx)(i.$,{asChild:!0,variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),S(e),T(!0)},children:(0,l.jsxs)("span",{className:"cursor-pointer",children:[(0,l.jsx)(p.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Delete"})]})})]})]}),(0,l.jsx)(n.Wu,{className:"flex-1 pt-0",children:(0,l.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-4 mt-2",children:e.role})})]},e.id))}):(0,l.jsx)("div",{className:"flex h-full items-center justify-center text-center text-sm text-muted-foreground",children:"No roles found. Click 'New Role' to create one."})})]}),(0,l.jsx)(N.cj,{open:!!$,onOpenChange:e=>!e&&Q(!1),children:(0,l.jsx)(N.h,{className:"sm:max-w-2xl flex flex-col",children:$&&(0,l.jsx)(k,{role:$,onSave:()=>Q(!0),onCancel:()=>Q(!1)})})}),(0,l.jsx)(g.Lt,{open:A,onOpenChange:e=>{e||S(null),T(e)},children:(0,l.jsxs)(g.EO,{children:[(0,l.jsxs)(g.wd,{children:[(0,l.jsx)(g.r7,{children:"Are you sure?"}),(0,l.jsxs)(g.$v,{children:['This action cannot be undone. This will permanently delete the role "',null==F?void 0:F.name,'".']})]}),(0,l.jsxs)(g.ck,{children:[(0,l.jsx)(g.Zr,{children:"Cancel"}),(0,l.jsxs)(g.Rx,{onClick:U,disabled:V.fetching,children:[V.fetching&&(0,l.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})}),(0,l.jsx)(b.lG,{open:z,onOpenChange:B,children:(0,l.jsxs)(b.Cf,{className:"sm:max-w-xl",children:[(0,l.jsxs)(b.c7,{children:[(0,l.jsx)(b.L3,{children:"New Role"}),(0,l.jsx)(b.rr,{children:"Create a new role by providing the details below."})]}),(0,l.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(y.J,{htmlFor:"new-role-name",children:"Name"}),(0,l.jsx)(w.p,{id:"new-role-name",value:L,onChange:e=>P(e.target.value),placeholder:"e.g. helpful-assistant",autoFocus:!0})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(y.J,{htmlFor:"new-role-role",children:"Role"}),(0,l.jsx)(v.T,{id:"new-role-role",value:q,onChange:e=>M(e.target.value),placeholder:"Describe the role of the assistant...",className:"resize-y",rows:Math.max(6,q.split("\n").length)})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(y.J,{htmlFor:"new-role-tone",children:"Tone"}),(0,l.jsx)(v.T,{id:"new-role-tone",value:_,onChange:e=>J(e.target.value),placeholder:"Describe the tone of the assistant...",className:"resize-y",rows:Math.max(4,_.split("\n").length)})]})]}),(0,l.jsxs)(b.Es,{children:[(0,l.jsx)(i.$,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),(0,l.jsxs)(i.$,{onClick:Y,disabled:!L.trim()||!q.trim()||H.fetching,children:[H.fetching&&(0,l.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Role"]})]})]})})]})}},74640:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(14294).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},78770:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(14294).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},92033:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(14294).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{e.O(0,[992,644,73,381,44,448,401,34,405,513,441,255,358],()=>e(e.s=718)),_N_E=e.O()}]);