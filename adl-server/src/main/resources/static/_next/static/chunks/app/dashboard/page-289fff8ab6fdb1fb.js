(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{11647:(e,t,a)=>{"use strict";a.d(t,{E:()=>i,e:()=>n});var s=a(95155);a(12115);var r=a(83101),l=a(64269);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(n({variant:a}),t),...r})}},16789:(e,t,a)=>{"use strict";a.d(t,{HK:()=>d,WM:()=>c,wV:()=>o});var s=a(95155),r=a(12115),l=a(16146),n=a(56745),i=a(64269);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.YZ,{ref:t,className:(0,i.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",a),...r})});d.displayName="ResizablePanelGroup";let o=n.Zk,c=r.forwardRef((e,t)=>{let{className:a,withHandle:r,...d}=e;return(0,s.jsx)(n.TW,{ref:t,className:(0,i.cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",a),...d,children:r&&(0,s.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:(0,s.jsx)(l.A,{className:"h-2.5 w-2.5"})})})});c.displayName="ResizableHandle"},20063:(e,t,a)=>{"use strict";var s=a(47260);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},23081:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(95155),r=a(12115),l=a(62044),n=a(40878),i=a(15894),d=a(68086),o=a(23262),c=a(14294);let u=(0,c.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var m=a(3998),x=a(65142);function f(e){let{searchQuery:t,onSearchQueryChange:a,onSubmit:r,onClear:l}=e;return(0,s.jsxs)("form",{className:"flex items-center gap-2 flex-1",onSubmit:r,children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(x.p,{placeholder:"Describe what you are looking for...",className:"pl-9",value:t,onChange:e=>a(e.target.value)})]}),(0,s.jsx)(m.$,{type:"submit",children:"Search"}),t&&(0,s.jsx)(m.$,{type:"button",variant:"outline",onClick:l,children:"Clear"})]})}var p=a(20063),h=a(32265),g=a(92033),j=a(78770);let v=(0,c.A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),y=(0,c.A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),N=(0,c.A)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var w=a(13630),b=a(86948),k=a(11647),C=a(18332),R=a(16789),S=a(64269),A=a(51834),z=a(76444);function D(e){let{score:t}=e;return null==t?null:(0,s.jsxs)(k.E,{variant:"outline",className:(0,S.cn)("font-mono",t>.8?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 border-green-500/30":t>.6?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300 border-yellow-500/30":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300 border-red-500/30"),children:[(100*t).toFixed(0),"%"]})}function E(e){let{prompts:t,fetching:a,error:l,sortConfig:n,requestSort:i,onDeleteClick:d}=e,[o,c]=(0,r.useState)([25,15,25,20,15]),u=(0,p.useRouter)(),[f,S]=(0,r.useState)(!1),[E,L]=(0,r.useState)(""),P=()=>{E.trim()&&(u.push("/prompts?new_id=".concat(encodeURIComponent(E.trim()))),S(!1),L(""))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(b.Zp,{children:[(0,s.jsx)(b.aR,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.ZB,{children:"All ADL Files"}),(0,s.jsx)(b.BT,{children:"A list of all saved ADL Files in your project."})]}),(0,s.jsxs)(m.$,{variant:"secondary",onClick:()=>S(!0),children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"New ADL Prompt"]})]})}),(0,s.jsx)(b.Wu,{children:a&&!t.length?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)(g.A,{className:"h-8 w-8 animate-spin"})}):l?(0,s.jsxs)(C.Fc,{variant:"destructive",children:[(0,s.jsx)(j.A,{className:"h-4 w-4"}),(0,s.jsx)(C.XL,{children:"Error"}),(0,s.jsxs)(C.TN,{children:["Failed to load UseCase Prompts: ",l.message]})]}):(0,s.jsxs)("div",{className:"border rounded-lg",children:[(0,s.jsxs)(R.HK,{direction:"horizontal",onLayout:e=>{c(e)},className:"min-w-full font-medium text-muted-foreground text-sm",children:[(0,s.jsx)(R.wV,{defaultSize:o[0],minSize:15,children:(0,s.jsx)("div",{className:"flex h-12 items-center px-4 cursor-pointer hover:bg-muted/50",onClick:()=>i("id"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["ID",(null==n?void 0:n.key)==="id"?"ascending"===n.direction?(0,s.jsx)(v,{className:"h-4 w-4"}):(0,s.jsx)(y,{className:"h-4 w-4"}):(0,s.jsx)(N,{className:"h-4 w-4 text-muted-foreground"})]})})}),(0,s.jsx)(R.WM,{withHandle:!0}),(0,s.jsx)(R.wV,{defaultSize:o[1],minSize:15,children:(0,s.jsx)("div",{className:"flex h-12 items-center px-4 cursor-pointer hover:bg-muted/50",onClick:()=>i("createdAt"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Created At",(null==n?void 0:n.key)==="createdAt"?"ascending"===n.direction?(0,s.jsx)(v,{className:"h-4 w-4"}):(0,s.jsx)(y,{className:"h-4 w-4"}):(0,s.jsx)(N,{className:"h-4 w-4 text-muted-foreground"})]})})}),(0,s.jsx)(R.WM,{withHandle:!0}),(0,s.jsx)(R.wV,{defaultSize:o[2],minSize:15,children:(0,s.jsx)("div",{className:"flex h-12 items-center px-4",children:"Tags"})}),(0,s.jsx)(R.WM,{withHandle:!0}),(0,s.jsx)(R.wV,{defaultSize:o[3],minSize:10,children:(0,s.jsx)("div",{className:"flex h-12 items-center px-4 cursor-pointer hover:bg-muted/50",onClick:()=>i("relevance"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Relevance",(null==n?void 0:n.key)==="relevance"?"ascending"===n.direction?(0,s.jsx)(v,{className:"h-4 w-4"}):(0,s.jsx)(y,{className:"h-4 w-4"}):(0,s.jsx)(N,{className:"h-4 w-4 text-muted-foreground"})]})})}),(0,s.jsx)(R.WM,{withHandle:!0}),(0,s.jsx)(R.wV,{defaultSize:o[4],minSize:10,children:(0,s.jsx)("div",{className:"flex h-12 items-center justify-end px-4",children:"Actions"})})]}),(0,s.jsx)("div",{className:"border-t",children:a&&t.length>0?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)(g.A,{className:"h-8 w-8 animate-spin"})}):t.length>0?t.map(e=>(0,s.jsxs)("div",{onClick:()=>u.push("/prompts?id=".concat(e.id)),className:"flex items-center min-w-full cursor-pointer hover:bg-muted/50 border-b last:border-b-0 text-sm",children:[(0,s.jsx)("div",{style:{flexBasis:"".concat(o[0],"%")},className:"px-4 py-4 overflow-hidden text-ellipsis whitespace-nowrap font-mono",children:e.id}),(0,s.jsx)("div",{style:{flexBasis:"".concat(o[1],"%")},className:"px-4 py-1 overflow-hidden text-ellipsis whitespace-nowrap",children:e.createdAt}),(0,s.jsx)("div",{style:{flexBasis:"".concat(o[2],"%")},className:"px-4 py-1",children:(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:(e.tags||[]).map(e=>(0,s.jsx)(k.E,{variant:"secondary",children:e},e))})}),(0,s.jsx)("div",{style:{flexBasis:"".concat(o[3],"%")},className:"px-4 py-1",children:(0,s.jsx)(D,{score:e.relevance})}),(0,s.jsx)("div",{style:{flexBasis:"".concat(o[4],"%")},className:"px-4 py-1 flex justify-end",children:(0,s.jsxs)(m.$,{variant:"ghost",size:"icon",onClick:t=>d(t,e.id),children:[(0,s.jsx)(w.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Delete"})]})})]},e.id)):(0,s.jsx)("div",{className:"text-center py-6 text-sm text-muted-foreground",children:"No prompts found."})})]})})]}),(0,s.jsx)(A.lG,{open:f,onOpenChange:S,children:(0,s.jsxs)(A.Cf,{children:[(0,s.jsxs)(A.c7,{children:[(0,s.jsx)(A.L3,{children:"New UseCase Prompt"}),(0,s.jsx)(A.rr,{children:"Enter a name for your new prompt. This will be used as its unique ID."})]}),(0,s.jsx)("div",{className:"grid gap-4 py-4",children:(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(z.J,{htmlFor:"name",children:"Name"}),(0,s.jsx)(x.p,{id:"name",value:E,onChange:e=>L(e.target.value),onKeyDown:e=>{"Enter"===e.key&&P()},placeholder:"e.g. my-new-prompt",autoFocus:!0})]})}),(0,s.jsx)(A.Es,{children:(0,s.jsx)(m.$,{onClick:P,disabled:!E.trim(),children:"Create Prompt"})})]})})]})}var L=a(98053);function P(e){let{isOpen:t,onOpenChange:a,onConfirm:r,promptId:l}=e;return(0,s.jsx)(L.Lt,{open:t,onOpenChange:a,children:(0,s.jsxs)(L.EO,{children:[(0,s.jsxs)(L.wd,{children:[(0,s.jsx)(L.r7,{children:"Are you sure?"}),(0,s.jsxs)(L.$v,{children:['This action cannot be undone. This will permanently delete the prompt with ID "',l,'".']})]}),(0,s.jsxs)(L.ck,{children:[(0,s.jsx)(L.Zr,{children:"Cancel"}),(0,s.jsx)(L.Rx,{onClick:r,children:"Delete"})]})]})})}function F(){let{searchQuery:e,setSearchQuery:t,handleSearchSubmit:a,handleClearSearch:c,prompts:u,fetching:m,error:x,sortConfig:p,requestSort:h,reexecuteQuery:g}=function(){let[e,t]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t(!0)},[]);let[a,s]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(null),[u,m]=(0,l.IT)({query:o.g3,variables:{term:n},requestPolicy:"cache-and-network",pause:!e}),{data:x,fetching:f,error:p}=u,h=(0,r.useMemo)(()=>{if(!(null==x?void 0:x.list))return[];let e=[...x.list];return null!==d&&e.sort((e,t)=>{let a=e[d.key],s=t[d.key];return null==a?1:null==s?-1:a<s?"ascending"===d.direction?-1:1:a>s?"ascending"===d.direction?1:-1:0}),e},[x,d]),g=(0,r.useCallback)(e=>{let t="ascending";d&&d.key===e&&"ascending"===d.direction&&(t="descending"),"relevance"!==e||d&&"relevance"===d.key&&"ascending"!==d.direction||(t="descending"),c({key:e,direction:t})},[d]),j=(0,r.useCallback)(e=>{e.preventDefault(),i(a),a?c({key:"relevance",direction:"descending"}):c(null)},[a]),v=(0,r.useCallback)(()=>{s(""),i(""),c(null)},[]);return{searchQuery:a,setSearchQuery:s,submittedQuery:n,handleSearchSubmit:j,handleClearSearch:v,prompts:h,fetching:f,error:p,sortConfig:d,requestSort:g,reexecuteQuery:(0,r.useCallback)(()=>{m({requestPolicy:"network-only"})},[m])}}(),[j,v]=(0,r.useState)(!1),[y,N]=(0,r.useState)(null),{toast:w}=(0,i.dj)(),[b,k]=(0,l.n_)(d.fe),C=async()=>{if(!y)return;let e=await k({id:y});if(e.error)w({variant:"destructive",title:"Error deleting prompt",description:e.error.message});else{var t,a;w({title:"Prompt deleted",description:(null==(a=e.data)||null==(t=a.delete)?void 0:t.message)||"The prompt has been successfully deleted."}),g()}v(!1),N(null)};return(0,s.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-background",children:[(0,s.jsx)(n.default,{}),(0,s.jsxs)("main",{className:"flex flex-1 flex-col px-4 pb-4 md:px-6 md:pb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 my-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Your Query"}),(0,s.jsx)(f,{searchQuery:e,onSearchQueryChange:t,onSubmit:a,onClear:c})]}),(0,s.jsx)(E,{prompts:u,fetching:m,error:x,sortConfig:p,requestSort:h,onDeleteClick:(e,t)=>{e.stopPropagation(),N(t),v(!0)}})]}),(0,s.jsx)(P,{isOpen:j,onOpenChange:e=>{e||N(null),v(e)},onConfirm:C,promptId:y})]})}},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>x,L3:()=>f,c7:()=>m,lG:()=>d,rr:()=>p});var s=a(95155),r=a(12115),l=a(77283),n=a(26615),i=a(64269);let d=l.bL;l.l9;let o=l.ZL;l.bm;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});c.displayName=l.hJ.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="DialogFooter";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});f.displayName=l.hE.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});p.displayName=l.VY.displayName},55889:(e,t,a)=>{Promise.resolve().then(a.bind(a,23081))},86948:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i});var s=a(95155),r=a(12115),l=a(64269);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-lg dark:shadow-sm",a),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},98053:(e,t,a)=>{"use strict";a.d(t,{$v:()=>p,EO:()=>u,Lt:()=>d,Rx:()=>h,Zr:()=>g,ck:()=>x,r7:()=>f,wd:()=>m});var s=a(95155),r=a(12115),l=a(6463),n=a(64269),i=a(3998);let d=l.bL;l.l9;let o=l.ZL,c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});c.displayName=l.hJ.displayName;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsx)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});u.displayName=l.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};m.displayName="AlertDialogHeader";let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="AlertDialogFooter";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold",a),...r})});f.displayName=l.hE.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});p.displayName=l.VY.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.rc,{ref:t,className:(0,n.cn)((0,i.r)(),a),...r})});h.displayName=l.rc.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.ZD,{ref:t,className:(0,n.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});g.displayName=l.ZD.displayName}},e=>{e.O(0,[330,150,394,463,878,441,255,358],()=>e(e.s=55889)),_N_E=e.O()}]);