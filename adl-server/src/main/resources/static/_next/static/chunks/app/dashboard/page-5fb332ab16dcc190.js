(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{11647:(e,r,s)=>{"use strict";s.d(r,{E:()=>i,e:()=>a});var t=s(95155);s(12115);var l=s(83101),n=s(64269);let a=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:s,...l}=e;return(0,t.jsx)("div",{className:(0,n.cn)(a({variant:s}),r),...l})}},16789:(e,r,s)=>{"use strict";s.d(r,{HK:()=>c,WM:()=>o,wV:()=>d});var t=s(95155),l=s(12115),n=s(16146),a=s(56745),i=s(64269);let c=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)(a.YZ,{ref:r,className:(0,i.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",s),...l})});c.displayName="ResizablePanelGroup";let d=a.Zk,o=l.forwardRef((e,r)=>{let{className:s,withHandle:l,...c}=e;return(0,t.jsx)(a.TW,{ref:r,className:(0,i.cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",s),...c,children:l&&(0,t.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:(0,t.jsx)(n.A,{className:"h-2.5 w-2.5"})})})});o.displayName="ResizableHandle"},20063:(e,r,s)=>{"use strict";var t=s(47260);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},30848:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(14294).A)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])},41165:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(14294).A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},52240:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(14294).A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},55889:(e,r,s)=>{Promise.resolve().then(s.bind(s,80732))},78770:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(14294).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},80732:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>q});var t=s(95155),l=s(12115),n=s(62044),a=s(70405),i=s(15894),c=s(68086),d=s(23262);let o=(0,s(14294).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var u=s(3998),x=s(65142);function h(e){let{searchQuery:r,onSearchQueryChange:s,onSubmit:l,onClear:n}=e;return(0,t.jsxs)("form",{className:"flex items-center gap-2 flex-1",onSubmit:l,children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(x.p,{placeholder:"Describe what you are looking for...",className:"pl-9",value:r,onChange:e=>s(e.target.value)})]}),(0,t.jsx)(u.$,{type:"submit",children:"Search"}),r&&(0,t.jsx)(u.$,{type:"button",variant:"outline",onClick:n,children:"Clear"})]})}var m=s(20063),p=s(32265),f=s(92033),j=s(78770),v=s(52240),g=s(41165),y=s(30848),w=s(13630),b=s(86948),N=s(11647),k=s(18332),A=s(16789),C=s(64269),S=s(51834),z=s(76444);function D(e){let{score:r}=e;return null==r?null:(0,t.jsxs)(N.E,{variant:"outline",className:(0,C.cn)("font-mono",r>.8?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 border-green-500/30":r>.6?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300 border-yellow-500/30":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300 border-red-500/30"),children:[(100*r).toFixed(0),"%"]})}function E(e){let{prompts:r,fetching:s,error:n,sortConfig:a,requestSort:i,onDeleteClick:c}=e,[d,o]=(0,l.useState)([25,15,25,20,15]),h=(0,m.useRouter)(),[C,E]=(0,l.useState)(!1),[P,R]=(0,l.useState)(""),q=()=>{P.trim()&&(h.push("/prompts?new_id=".concat(encodeURIComponent(P.trim()))),E(!1),R(""))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(b.Zp,{children:[(0,t.jsx)(b.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.ZB,{children:"All ADL Files"}),(0,t.jsx)(b.BT,{children:"A list of all saved ADL Files in your project."})]}),(0,t.jsxs)(u.$,{variant:"secondary",onClick:()=>E(!0),children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"New ADL Prompt"]})]})}),(0,t.jsx)(b.Wu,{children:s&&!r.length?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(f.A,{className:"h-8 w-8 animate-spin"})}):n?(0,t.jsxs)(k.Fc,{variant:"destructive",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),(0,t.jsx)(k.XL,{children:"Error"}),(0,t.jsxs)(k.TN,{children:["Failed to load UseCase Prompts: ",n.message]})]}):(0,t.jsxs)("div",{className:"border rounded-lg",children:[(0,t.jsxs)(A.HK,{direction:"horizontal",onLayout:e=>{o(e)},className:"min-w-full font-medium text-muted-foreground text-sm",children:[(0,t.jsx)(A.wV,{defaultSize:d[0],minSize:15,children:(0,t.jsx)("div",{className:"flex h-12 items-center px-4 cursor-pointer hover:bg-muted/50",onClick:()=>i("id"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["ID",(null==a?void 0:a.key)==="id"?"ascending"===a.direction?(0,t.jsx)(v.A,{className:"h-4 w-4"}):(0,t.jsx)(g.A,{className:"h-4 w-4"}):(0,t.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]})})}),(0,t.jsx)(A.WM,{withHandle:!0}),(0,t.jsx)(A.wV,{defaultSize:d[1],minSize:15,children:(0,t.jsx)("div",{className:"flex h-12 items-center px-4 cursor-pointer hover:bg-muted/50",onClick:()=>i("createdAt"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["Created At",(null==a?void 0:a.key)==="createdAt"?"ascending"===a.direction?(0,t.jsx)(v.A,{className:"h-4 w-4"}):(0,t.jsx)(g.A,{className:"h-4 w-4"}):(0,t.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]})})}),(0,t.jsx)(A.WM,{withHandle:!0}),(0,t.jsx)(A.wV,{defaultSize:d[2],minSize:15,children:(0,t.jsx)("div",{className:"flex h-12 items-center px-4",children:"Tags"})}),(0,t.jsx)(A.WM,{withHandle:!0}),(0,t.jsx)(A.wV,{defaultSize:d[3],minSize:10,children:(0,t.jsx)("div",{className:"flex h-12 items-center px-4 cursor-pointer hover:bg-muted/50",onClick:()=>i("relevance"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["Relevance",(null==a?void 0:a.key)==="relevance"?"ascending"===a.direction?(0,t.jsx)(v.A,{className:"h-4 w-4"}):(0,t.jsx)(g.A,{className:"h-4 w-4"}):(0,t.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]})})}),(0,t.jsx)(A.WM,{withHandle:!0}),(0,t.jsx)(A.wV,{defaultSize:d[4],minSize:10,children:(0,t.jsx)("div",{className:"flex h-12 items-center justify-end px-4",children:"Actions"})})]}),(0,t.jsx)("div",{className:"border-t",children:s&&r.length>0?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(f.A,{className:"h-8 w-8 animate-spin"})}):r.length>0?r.map(e=>(0,t.jsxs)("div",{onClick:()=>h.push("/prompts?id=".concat(e.id)),className:"flex items-center min-w-full cursor-pointer hover:bg-muted/50 border-b last:border-b-0 text-sm",children:[(0,t.jsx)("div",{style:{flexBasis:"".concat(d[0],"%")},className:"px-4 py-4 overflow-hidden text-ellipsis whitespace-nowrap font-mono",children:e.id}),(0,t.jsx)("div",{style:{flexBasis:"".concat(d[1],"%")},className:"px-4 py-1 overflow-hidden text-ellipsis whitespace-nowrap",children:e.createdAt}),(0,t.jsx)("div",{style:{flexBasis:"".concat(d[2],"%")},className:"px-4 py-1",children:(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:(e.tags||[]).map(e=>(0,t.jsx)(N.E,{variant:"secondary",children:e},e))})}),(0,t.jsx)("div",{style:{flexBasis:"".concat(d[3],"%")},className:"px-4 py-1",children:(0,t.jsx)(D,{score:e.relevance})}),(0,t.jsx)("div",{style:{flexBasis:"".concat(d[4],"%")},className:"px-4 py-1 flex justify-end",children:(0,t.jsxs)(u.$,{variant:"ghost",size:"icon",onClick:r=>c(r,e.id),children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Delete"})]})})]},e.id)):(0,t.jsx)("div",{className:"text-center py-6 text-sm text-muted-foreground",children:"No prompts found."})})]})})]}),(0,t.jsx)(S.lG,{open:C,onOpenChange:E,children:(0,t.jsxs)(S.Cf,{children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:"New UseCase Prompt"}),(0,t.jsx)(S.rr,{children:"Enter a name for your new prompt. This will be used as its unique ID."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(z.J,{htmlFor:"name",children:"Name"}),(0,t.jsx)(x.p,{id:"name",value:P,onChange:e=>R(e.target.value),onKeyDown:e=>{"Enter"===e.key&&q()},placeholder:"e.g. my-new-prompt",autoFocus:!0})]})}),(0,t.jsx)(S.Es,{children:(0,t.jsx)(u.$,{onClick:q,disabled:!P.trim(),children:"Create Prompt"})})]})})]})}var P=s(98053);function R(e){let{isOpen:r,onOpenChange:s,onConfirm:l,promptId:n}=e;return(0,t.jsx)(P.Lt,{open:r,onOpenChange:s,children:(0,t.jsxs)(P.EO,{children:[(0,t.jsxs)(P.wd,{children:[(0,t.jsx)(P.r7,{children:"Are you sure?"}),(0,t.jsxs)(P.$v,{children:['This action cannot be undone. This will permanently delete the prompt with ID "',n,'".']})]}),(0,t.jsxs)(P.ck,{children:[(0,t.jsx)(P.Zr,{children:"Cancel"}),(0,t.jsx)(P.Rx,{onClick:l,children:"Delete"})]})]})})}function q(){let{searchQuery:e,setSearchQuery:r,handleSearchSubmit:s,handleClearSearch:o,prompts:u,fetching:x,error:m,sortConfig:p,requestSort:f,reexecuteQuery:j}=function(){let[e,r]=(0,l.useState)(!1);(0,l.useEffect)(()=>{r(!0)},[]);let[s,t]=(0,l.useState)(""),[a,i]=(0,l.useState)(""),[c,o]=(0,l.useState)(null),[u,x]=(0,n.IT)({query:d.g3,variables:{term:a},requestPolicy:"cache-and-network",pause:!e}),{data:h,fetching:m,error:p}=u,f=(0,l.useMemo)(()=>{if(!(null==h?void 0:h.list))return[];let e=[...h.list];return null!==c&&e.sort((e,r)=>{let s=e[c.key],t=r[c.key];return null==s?1:null==t?-1:s<t?"ascending"===c.direction?-1:1:s>t?"ascending"===c.direction?1:-1:0}),e},[h,c]),j=(0,l.useCallback)(e=>{let r="ascending";c&&c.key===e&&"ascending"===c.direction&&(r="descending"),"relevance"!==e||c&&"relevance"===c.key&&"ascending"!==c.direction||(r="descending"),o({key:e,direction:r})},[c]),v=(0,l.useCallback)(e=>{e.preventDefault(),i(s),s?o({key:"relevance",direction:"descending"}):o(null)},[s]),g=(0,l.useCallback)(()=>{t(""),i(""),o(null)},[]);return{searchQuery:s,setSearchQuery:t,submittedQuery:a,handleSearchSubmit:v,handleClearSearch:g,prompts:f,fetching:m,error:p,sortConfig:c,requestSort:j,reexecuteQuery:(0,l.useCallback)(()=>{x({requestPolicy:"network-only"})},[x])}}(),[v,g]=(0,l.useState)(!1),[y,w]=(0,l.useState)(null),{toast:b}=(0,i.dj)(),[N,k]=(0,n.n_)(c.fe),A=async()=>{if(!y)return;let e=await k({id:y});if(e.error)b({variant:"destructive",title:"Error deleting prompt",description:e.error.message});else{var r,s;b({title:"Prompt deleted",description:(null==(s=e.data)||null==(r=s.delete)?void 0:r.message)||"The prompt has been successfully deleted."}),j()}g(!1),w(null)};return(0,t.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-background",children:[(0,t.jsx)(a.default,{}),(0,t.jsxs)("main",{className:"flex flex-1 flex-col px-4 pb-4 md:px-6 md:pb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 my-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Your Query"}),(0,t.jsx)(h,{searchQuery:e,onSearchQueryChange:r,onSubmit:s,onClear:o})]}),(0,t.jsx)(E,{prompts:u,fetching:x,error:m,sortConfig:p,requestSort:f,onDeleteClick:(e,r)=>{e.stopPropagation(),w(r),g(!0)}})]}),(0,t.jsx)(R,{isOpen:v,onOpenChange:e=>{e||w(null),g(e)},onConfirm:A,promptId:y})]})}}},e=>{e.O(0,[992,644,73,381,44,886,448,401,405,513,441,255,358],()=>e(e.s=55889)),_N_E=e.O()}]);