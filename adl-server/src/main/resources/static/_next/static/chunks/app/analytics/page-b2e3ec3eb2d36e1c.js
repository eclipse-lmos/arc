(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{10670:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(95155),n=t(12115),a=t(62044),l=t(23262),d=t(70405),c=t(86948),i=t(92033),o=t(30848),m=t(52240),x=t(41165),u=t(5225),f=t(62593),h=t(94374),p=t(25133),j=t(9484),g=t(64269);let N=n.forwardRef((e,s)=>{let{className:t,value:n,...a}=e;return(0,r.jsx)(j.bL,{ref:s,className:(0,g.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:(0,r.jsx)(j.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});N.displayName=j.bL.displayName;var b=t(11647),y=t(87270);function v(){let[e,s]=(0,n.useState)(null),[t]=(0,a.IT)({query:l.XF,requestPolicy:"network-only"}),{data:j,fetching:v,error:C}=t,w=t=>{let r="asc";e&&e.key===t&&"asc"===e.direction&&(r="desc"),s({key:t,direction:r})},A=(0,n.useMemo)(()=>{var s;let t=[...(null==j||null==(s=j.dashboard)?void 0:s.mostUsedUseCase)||[]];return e&&t.sort((s,t)=>{let r=s[e.key],n=t[e.key];return null==r?1:null==n?-1:r<n?"asc"===e.direction?-1:1:r>n?"asc"===e.direction?1:-1:0}),t},[j,e]);if(v)return(0,r.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-background",children:[(0,r.jsx)(d.default,{}),(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-center",children:[(0,r.jsx)(i.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ml-4 text-muted-foreground",children:"Loading dashboard analytics..."})]})]});if(C)return(0,r.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-background",children:[(0,r.jsx)(d.default,{}),(0,r.jsx)("div",{className:"flex flex-1 items-center justify-center p-6",children:(0,r.jsxs)(c.Zp,{className:"max-w-md w-full border-destructive/50",children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{className:"text-destructive",children:"Dashboard Error"}),(0,r.jsx)(c.BT,{children:"Failed to fetch statistics from the server."})]}),(0,r.jsx)(c.Wu,{children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:C.message})})]})})]});let R=(null==j?void 0:j.dashboard)||{numberOfAdls:0,mostUsedUseCase:[],averageResponseTime:0},k=Math.max(0,Math.min(100,(1-R.averageResponseTime/5e3)*100)),S=s=>{let{columnKey:t}=s;return(null==e?void 0:e.key)!==t?(0,r.jsx)(o.A,{className:"ml-2 h-4 w-4 opacity-50"}):"asc"===e.direction?(0,r.jsx)(m.A,{className:"ml-2 h-4 w-4"}):(0,r.jsx)(x.A,{className:"ml-2 h-4 w-4"})};return(0,r.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-background",children:[(0,r.jsx)(d.default,{}),(0,r.jsxs)("main",{className:"flex-1 container mx-auto py-8 px-4 md:px-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Project Analytics"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"High-level statistics and performance metrics for your ADL Studio environment."})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(c.Zp,{className:"flex flex-col",children:[(0,r.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium",children:"Total ADL Files"}),(0,r.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)("div",{className:"text-4xl font-bold",children:R.numberOfAdls}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Managed prompts and contracts"}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)(N,{value:Math.min(100,R.numberOfAdls/50*100),className:"h-2"}),(0,r.jsxs)("p",{className:"text-[10px] text-muted-foreground mt-1 text-right",children:["Quota usage: ",Math.min(100,R.numberOfAdls/50*100).toFixed(0),"%"]})]})]})]}),(0,r.jsxs)(c.Zp,{className:"flex flex-col",children:[(0,r.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium",children:"Avg Response Time"}),(0,r.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(c.Wu,{className:"flex flex-row items-center gap-8 pt-4",children:[(0,r.jsx)("div",{className:"mb-2 shrink-0",children:(0,r.jsx)(p.A,{value:k,label:"Latency Score"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"text-4xl font-bold",children:[(R.averageResponseTime/1e3).toFixed(2),"s"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Mean end-to-end latency"})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"h-5 w-5 text-primary"}),"UseCase Usage Ranking"]}),(0,r.jsx)(c.Zp,{children:(0,r.jsx)(c.Wu,{className:"p-0",children:A.length>0?(0,r.jsxs)(y.XI,{children:[(0,r.jsx)(y.A0,{children:(0,r.jsxs)(y.Hj,{children:[(0,r.jsx)(y.nd,{className:"w-[100px]",children:"Rank"}),(0,r.jsx)(y.nd,{className:"cursor-pointer select-none hover:bg-muted/50",onClick:()=>w("useCaseId"),children:(0,r.jsxs)("div",{className:"flex items-center",children:["UseCase ID",(0,r.jsx)(S,{columnKey:"useCaseId"})]})}),(0,r.jsx)(y.nd,{className:"text-right cursor-pointer select-none hover:bg-muted/50",onClick:()=>w("count"),children:(0,r.jsxs)("div",{className:"flex items-center justify-end",children:["Execution Count",(0,r.jsx)(S,{columnKey:"count"})]})}),(0,r.jsx)(y.nd,{className:"text-right cursor-pointer select-none hover:bg-muted/50",onClick:()=>w("minComplianceScore"),children:(0,r.jsxs)("div",{className:"flex items-center justify-end",children:["Min Compliance",(0,r.jsx)(S,{columnKey:"minComplianceScore"})]})}),(0,r.jsx)(y.nd,{className:"text-right cursor-pointer select-none hover:bg-muted/50",onClick:()=>w("maxComplianceScore"),children:(0,r.jsxs)("div",{className:"flex items-center justify-end",children:["Max Compliance",(0,r.jsx)(S,{columnKey:"maxComplianceScore"})]})})]})}),(0,r.jsx)(y.BF,{children:A.map((e,s)=>(0,r.jsxs)(y.Hj,{className:"group",children:[(0,r.jsx)(y.nA,{className:"font-medium",children:(0,r.jsxs)(b.E,{variant:s<3?"default":"secondary",children:["#",s+1]})}),(0,r.jsx)(y.nA,{className:"font-mono text-sm",children:e.useCaseId}),(0,r.jsx)(y.nA,{className:"text-right font-semibold",children:e.count}),(0,r.jsx)(y.nA,{className:"text-right",children:(0,r.jsxs)("span",{className:(0,g.cn)("font-mono text-xs",e.minComplianceScore>.8?"text-green-600":e.minComplianceScore<.5?"text-red-600":"text-yellow-600"),children:[e.minComplianceScore.toFixed(1),"%"]})}),(0,r.jsx)(y.nA,{className:"text-right",children:(0,r.jsxs)("span",{className:(0,g.cn)("font-mono text-xs",e.maxComplianceScore>.8?"text-green-600":e.maxComplianceScore<.5?"text-red-600":"text-yellow-600"),children:[e.maxComplianceScore.toFixed(1),"%"]})})]},e.useCaseId))})]}):(0,r.jsx)("div",{className:"flex items-center justify-center py-12 text-sm text-muted-foreground italic",children:"No usage data available for this project yet."})})})]})]})]})}},11647:(e,s,t)=>{"use strict";t.d(s,{E:()=>d,e:()=>l});var r=t(95155);t(12115);var n=t(83101),a=t(64269);let l=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(l({variant:t}),s),...n})}},23262:(e,s,t)=>{"use strict";t.d(s,{BZ:()=>c,Cn:()=>r,PW:()=>a,XF:()=>x,_i:()=>d,g3:()=>n,qS:()=>l,s_:()=>i,sz:()=>m,zH:()=>o});let r="\n  query TestsQuery($useCaseId: String!) {\n    testCases(useCaseId: $useCaseId) {\n      description\n      expectedConversation {\n        content\n        role\n      }\n      id\n      name\n      useCaseId\n      contract\n    }\n  }\n",n="\n  query ListPrompts($term: String!) {\n    list(searchTerm: { term: $term, limit: 50, threshold: 0.5 }) {\n      id\n      createdAt\n      tags\n      relevance\n    }\n  }\n",a="\n  query SearchByIdQuery($id: String!) {\n    searchById(id: $id) {\n      id\n      createdAt\n      tags\n      content\n      examples\n      output\n    }\n  }\n",l="\n  query getMcpTools {\n    getMcpTools {\n      description\n      name\n      parameters\n    }\n  }\n",d="\n    query getMcpServerUrls {\n        mcpServerUrls {\n            url\n            reachable\n            toolCount \n       }\n    }\n",c="\n  query GetUserSettings {\n    userSettings {\n      apiKey\n      modelName\n      modelUrl\n    }\n  }\n",i="\n  query ListWidgets {\n    widgets {\n      id\n      name\n      description\n      html\n    }\n  }\n",o="\n  query GetWidget($id: String!) {\n    widget(id: $id) {\n      id\n      name\n      html\n      jsonSchema\n    }\n  }\n",m="\n  query RolePrompts {\n    rolePrompts {\n      id\n      name\n      tags\n      role\n      tone\n    }\n  }\n",x="\n  query Dashboard {\n    dashboard {\n      numberOfAdls\n      averageResponseTime\n      mostUsedUseCase {\n        useCaseId\n        count\n        minComplianceScore\n        maxComplianceScore\n      }\n    }\n  }\n"},25133:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(95155),n=t(53773);t(31189);var a=t(5379);function l(e){let{value:s,label:t}=e,{resolvedTheme:l}=(0,a.D)();return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{style:{width:"100px",height:"100px"},children:(0,r.jsx)(n.QF,{value:s,text:"".concat(s.toFixed(0)),strokeWidth:10,styles:(0,n.Hf)({pathColor:"hsl(var(--chart-2))",textColor:"dark"===l?"hsl(210 40% 98%)":"hsl(221.2 83.2% 53.3%)",trailColor:"hsl(var(--muted))",pathTransitionDuration:.5})})}),(0,r.jsx)("p",{className:"text-sm font-medium text-muted-foreground mt-2",children:t})]})}},86948:(e,s,t)=>{"use strict";t.d(s,{BT:()=>i,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>d});var r=t(95155),n=t(12115),a=t(64269);let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-lg dark:shadow-sm",t),...n})});l.displayName="Card";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...n})});d.displayName="CardHeader";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});c.displayName="CardTitle";let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",t),...n})});i.displayName="CardDescription";let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",t),...n})});o.displayName="CardContent",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",t),...n})}).displayName="CardFooter"},87270:(e,s,t)=>{"use strict";t.d(s,{A0:()=>d,BF:()=>c,Hj:()=>i,XI:()=>l,nA:()=>m,nd:()=>o});var r=t(95155),n=t(12115),a=t(64269);let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,a.cn)("w-full caption-bottom text-sm",t),...n})})});l.displayName="Table";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("thead",{ref:s,className:(0,a.cn)("[&_tr]:border-b",t),...n})});d.displayName="TableHeader";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("tbody",{ref:s,className:(0,a.cn)("[&_tr:last-child]:border-0",t),...n})});c.displayName="TableBody",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("tfoot",{ref:s,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n})}).displayName="TableFooter";let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("tr",{ref:s,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n})});i.displayName="TableRow";let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("th",{ref:s,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n})});o.displayName="TableHead";let m=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("td",{ref:s,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n})});m.displayName="TableCell",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("caption",{ref:s,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",t),...n})}).displayName="TableCaption"},95201:(e,s,t)=>{Promise.resolve().then(t.bind(t,10670))}},e=>{e.O(0,[310,992,644,73,381,44,913,405,441,255,358],()=>e(e.s=95201)),_N_E=e.O()}]);