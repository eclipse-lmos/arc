"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[661],{861:(e,t,r)=>{r.d(t,{b:()=>a,s:()=>s});var n=r(2115),i=r(8142),o=r(5155),s=n.forwardRef((e,t)=>(0,o.jsx)(i.sG.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));s.displayName="VisuallyHidden";var a=s},4679:(e,t,r)=>{r.d(t,{rc:()=>ea,bm:()=>eu,VY:()=>es,Kq:()=>er,bL:()=>ei,hE:()=>eo,LM:()=>en});var n,i=r(2115),o=r(7650),s=r(2556),a=r(4446),u=r(8625),l=r(3468),c=r(8142),d=r(222),p=r(5155),v="dismissableLayer.update",f=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),y=i.forwardRef((e,t)=>{var r,o;let{disableOutsidePointerEvents:u=!1,onEscapeKeyDown:l,onPointerDownOutside:y,onFocusOutside:m,onInteractOutside:b,onDismiss:x,...E}=e,k=i.useContext(f),[g,T]=i.useState(null),P=null!=(o=null==g?void 0:g.ownerDocument)?o:null==(r=globalThis)?void 0:r.document,[,C]=i.useState({}),R=(0,a.s)(t,e=>T(e)),D=Array.from(k.layers),[L]=[...k.layersWithOutsidePointerEventsDisabled].slice(-1),S=D.indexOf(L),N=g?D.indexOf(g):-1,j=k.layersWithOutsidePointerEventsDisabled.size>0,O=N>=S,q=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==(t=globalThis)?void 0:t.document,n=(0,d.c)(e),o=i.useRef(!1),s=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!o.current){let t=function(){h("dismissableLayer.pointerDownOutside",n,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(r.removeEventListener("click",s.current),s.current=t,r.addEventListener("click",s.current,{once:!0})):t()}else r.removeEventListener("click",s.current);o.current=!1},t=window.setTimeout(()=>{r.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),r.removeEventListener("pointerdown",e),r.removeEventListener("click",s.current)}},[r,n]),{onPointerDownCapture:()=>o.current=!0}}(e=>{let t=e.target,r=[...k.branches].some(e=>e.contains(t));O&&!r&&(null==y||y(e),null==b||b(e),e.defaultPrevented||null==x||x())},P),_=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==(t=globalThis)?void 0:t.document,n=(0,d.c)(e),o=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!o.current&&h("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return r.addEventListener("focusin",e),()=>r.removeEventListener("focusin",e)},[r,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}(e=>{let t=e.target;![...k.branches].some(e=>e.contains(t))&&(null==m||m(e),null==b||b(e),e.defaultPrevented||null==x||x())},P);return!function(e,t=globalThis?.document){let r=(0,d.c)(e);i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{N===k.layers.size-1&&(null==l||l(e),!e.defaultPrevented&&x&&(e.preventDefault(),x()))},P),i.useEffect(()=>{if(g)return u&&(0===k.layersWithOutsidePointerEventsDisabled.size&&(n=P.body.style.pointerEvents,P.body.style.pointerEvents="none"),k.layersWithOutsidePointerEventsDisabled.add(g)),k.layers.add(g),w(),()=>{u&&1===k.layersWithOutsidePointerEventsDisabled.size&&(P.body.style.pointerEvents=n)}},[g,P,u,k]),i.useEffect(()=>()=>{g&&(k.layers.delete(g),k.layersWithOutsidePointerEventsDisabled.delete(g),w())},[g,k]),i.useEffect(()=>{let e=()=>C({});return document.addEventListener(v,e),()=>document.removeEventListener(v,e)},[]),(0,p.jsx)(c.sG.div,{...E,ref:R,style:{pointerEvents:j?O?"auto":"none":void 0,...e.style},onFocusCapture:(0,s.m)(e.onFocusCapture,_.onFocusCapture),onBlurCapture:(0,s.m)(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:(0,s.m)(e.onPointerDownCapture,q.onPointerDownCapture)})});y.displayName="DismissableLayer";var m=i.forwardRef((e,t)=>{let r=i.useContext(f),n=i.useRef(null),o=(0,a.s)(t,n);return i.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,p.jsx)(c.sG.div,{...e,ref:o})});function w(){let e=new CustomEvent(v);document.dispatchEvent(e)}function h(e,t,r,n){let{discrete:i}=n,o=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),i?(0,c.hO)(o,s):o.dispatchEvent(s)}m.displayName="DismissableLayerBranch";var b=r(4129),x=i.forwardRef((e,t)=>{var r,n;let{container:s,...a}=e,[u,l]=i.useState(!1);(0,b.N)(()=>l(!0),[]);let d=s||u&&(null==(n=globalThis)||null==(r=n.document)?void 0:r.body);return d?o.createPortal((0,p.jsx)(c.sG.div,{...a,ref:t}),d):null});x.displayName="Portal";var E=r(6842),k=r(3558),g=r(861),T="ToastProvider",[P,C,R]=(0,u.N)("Toast"),[D,L]=(0,l.A)("Toast",[R]),[S,N]=D(T),j=e=>{let{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:a}=e,[u,l]=i.useState(null),[c,d]=i.useState(0),v=i.useRef(!1),f=i.useRef(!1);return r.trim()||console.error("Invalid prop `label` supplied to `".concat(T,"`. Expected non-empty `string`.")),(0,p.jsx)(P.Provider,{scope:t,children:(0,p.jsx)(S,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:u,onViewportChange:l,onToastAdd:i.useCallback(()=>d(e=>e+1),[]),onToastRemove:i.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:f,children:a})})};j.displayName=T;var O="ToastViewport",q=["F8"],_="toast.viewportPause",F="toast.viewportResume",M=i.forwardRef((e,t)=>{let{__scopeToast:r,hotkey:n=q,label:o="Notifications ({hotkey})",...s}=e,u=N(O,r),l=C(r),d=i.useRef(null),v=i.useRef(null),f=i.useRef(null),y=i.useRef(null),w=(0,a.s)(t,y,u.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=u.toastCount>0;i.useEffect(()=>{let e=e=>{var t;0!==n.length&&n.every(t=>e[t]||e.code===t)&&(null==(t=y.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),i.useEffect(()=>{let e=d.current,t=y.current;if(b&&e&&t){let r=()=>{if(!u.isClosePausedRef.current){let e=new CustomEvent(_);t.dispatchEvent(e),u.isClosePausedRef.current=!0}},n=()=>{if(u.isClosePausedRef.current){let e=new CustomEvent(F);t.dispatchEvent(e),u.isClosePausedRef.current=!1}},i=t=>{e.contains(t.relatedTarget)||n()},o=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",i),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",o),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[b,u.isClosePausedRef]);let x=i.useCallback(e=>{let{tabbingDirection:t}=e,r=l().map(e=>{let r=e.ref.current,n=[r,...function(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}(r)];return"forwards"===t?n:n.reverse()});return("forwards"===t?r.reverse():r).flat()},[l]);return i.useEffect(()=>{let e=y.current;if(e){let t=t=>{let r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){var n,i,o;let r=document.activeElement,s=t.shiftKey;if(t.target===e&&s){null==(n=v.current)||n.focus();return}let a=x({tabbingDirection:s?"backwards":"forwards"}),u=a.findIndex(e=>e===r);et(a.slice(u+1))?t.preventDefault():s?null==(i=v.current)||i.focus():null==(o=f.current)||o.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[l,x]),(0,p.jsxs)(m,{ref:d,role:"region","aria-label":o.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&(0,p.jsx)(A,{ref:v,onFocusFromOutsideViewport:()=>{et(x({tabbingDirection:"forwards"}))}}),(0,p.jsx)(P.Slot,{scope:r,children:(0,p.jsx)(c.sG.ol,{tabIndex:-1,...s,ref:w})}),b&&(0,p.jsx)(A,{ref:f,onFocusFromOutsideViewport:()=>{et(x({tabbingDirection:"backwards"}))}})]})});M.displayName=O;var I="ToastFocusProxy",A=i.forwardRef((e,t)=>{let{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,o=N(I,r);return(0,p.jsx)(g.s,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{var t;let r=e.relatedTarget;(null==(t=o.viewport)?void 0:t.contains(r))||n()}})});A.displayName=I;var K="Toast",G=i.forwardRef((e,t)=>{let{forceMount:r,open:n,defaultOpen:i,onOpenChange:o,...a}=e,[u=!0,l]=(0,k.i)({prop:n,defaultProp:i,onChange:o});return(0,p.jsx)(E.C,{present:r||u,children:(0,p.jsx)(V,{open:u,...a,ref:t,onClose:()=>l(!1),onPause:(0,d.c)(e.onPause),onResume:(0,d.c)(e.onResume),onSwipeStart:(0,s.m)(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:(0,s.m)(e.onSwipeMove,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(r,"px"))}),onSwipeCancel:(0,s.m)(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:(0,s.m)(e.onSwipeEnd,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(r,"px")),l(!1)})})})});G.displayName=K;var[W,B]=D(K,{onClose(){}}),V=i.forwardRef((e,t)=>{let{__scopeToast:r,type:n="foreground",duration:u,open:l,onClose:v,onEscapeKeyDown:f,onPause:m,onResume:w,onSwipeStart:h,onSwipeMove:b,onSwipeCancel:x,onSwipeEnd:E,...k}=e,g=N(K,r),[T,C]=i.useState(null),R=(0,a.s)(t,e=>C(e)),D=i.useRef(null),L=i.useRef(null),S=u||g.duration,j=i.useRef(0),O=i.useRef(S),q=i.useRef(0),{onToastAdd:M,onToastRemove:I}=g,A=(0,d.c)(()=>{var e;(null==T?void 0:T.contains(document.activeElement))&&(null==(e=g.viewport)||e.focus()),v()}),G=i.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(q.current),j.current=new Date().getTime(),q.current=window.setTimeout(A,e))},[A]);i.useEffect(()=>{let e=g.viewport;if(e){let t=()=>{G(O.current),null==w||w()},r=()=>{let e=new Date().getTime()-j.current;O.current=O.current-e,window.clearTimeout(q.current),null==m||m()};return e.addEventListener(_,r),e.addEventListener(F,t),()=>{e.removeEventListener(_,r),e.removeEventListener(F,t)}}},[g.viewport,S,m,w,G]),i.useEffect(()=>{l&&!g.isClosePausedRef.current&&G(S)},[l,S,g.isClosePausedRef,G]),i.useEffect(()=>(M(),()=>I()),[M,I]);let B=i.useMemo(()=>T?function e(t){let r=[];return Array.from(t.childNodes).forEach(t=>{var n;if(t.nodeType===t.TEXT_NODE&&t.textContent&&r.push(t.textContent),(n=t).nodeType===n.ELEMENT_NODE){let n=t.ariaHidden||t.hidden||"none"===t.style.display,i=""===t.dataset.radixToastAnnounceExclude;if(!n)if(i){let e=t.dataset.radixToastAnnounceAlt;e&&r.push(e)}else r.push(...e(t))}}),r}(T):null,[T]);return g.viewport?(0,p.jsxs)(p.Fragment,{children:[B&&(0,p.jsx)(Y,{__scopeToast:r,role:"status","aria-live":"foreground"===n?"assertive":"polite","aria-atomic":!0,children:B}),(0,p.jsx)(W,{scope:r,onClose:A,children:o.createPortal((0,p.jsx)(P.ItemSlot,{scope:r,children:(0,p.jsx)(y,{asChild:!0,onEscapeKeyDown:(0,s.m)(f,()=>{g.isFocusedToastEscapeKeyDownRef.current||A(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,p.jsx)(c.sG.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":g.swipeDirection,...k,ref:R,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:(0,s.m)(e.onKeyDown,e=>{"Escape"===e.key&&(null==f||f(e.nativeEvent),e.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:(0,s.m)(e.onPointerDown,e=>{0===e.button&&(D.current={x:e.clientX,y:e.clientY})}),onPointerMove:(0,s.m)(e.onPointerMove,e=>{if(!D.current)return;let t=e.clientX-D.current.x,r=e.clientY-D.current.y,n=!!L.current,i=["left","right"].includes(g.swipeDirection),o=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,s=i?o(0,t):0,a=i?0:o(0,r),u="touch"===e.pointerType?10:2,l={x:s,y:a},c={originalEvent:e,delta:l};n?(L.current=l,J("toast.swipeMove",b,c,{discrete:!1})):ee(l,g.swipeDirection,u)?(L.current=l,J("toast.swipeStart",h,c,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>u||Math.abs(r)>u)&&(D.current=null)}),onPointerUp:(0,s.m)(e.onPointerUp,e=>{let t=L.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),L.current=null,D.current=null,t){let r=e.currentTarget,n={originalEvent:e,delta:t};ee(t,g.swipeDirection,g.swipeThreshold)?J("toast.swipeEnd",E,n,{discrete:!0}):J("toast.swipeCancel",x,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Y=e=>{let{__scopeToast:t,children:r,...n}=e,o=N(K,t),[s,a]=i.useState(!1),[u,l]=i.useState(!1);return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=(0,d.c)(e);(0,b.N)(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>a(!0)),i.useEffect(()=>{let e=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(e)},[]),u?null:(0,p.jsx)(x,{asChild:!0,children:(0,p.jsx)(g.s,{...n,children:s&&(0,p.jsxs)(p.Fragment,{children:[o.label," ",r]})})})},Q=i.forwardRef((e,t)=>{let{__scopeToast:r,...n}=e;return(0,p.jsx)(c.sG.div,{...n,ref:t})});Q.displayName="ToastTitle";var U=i.forwardRef((e,t)=>{let{__scopeToast:r,...n}=e;return(0,p.jsx)(c.sG.div,{...n,ref:t})});U.displayName="ToastDescription";var z="ToastAction",H=i.forwardRef((e,t)=>{let{altText:r,...n}=e;return r.trim()?(0,p.jsx)($,{altText:r,asChild:!0,children:(0,p.jsx)(Z,{...n,ref:t})}):(console.error("Invalid prop `altText` supplied to `".concat(z,"`. Expected non-empty `string`.")),null)});H.displayName=z;var X="ToastClose",Z=i.forwardRef((e,t)=>{let{__scopeToast:r,...n}=e,i=B(X,r);return(0,p.jsx)($,{asChild:!0,children:(0,p.jsx)(c.sG.button,{type:"button",...n,ref:t,onClick:(0,s.m)(e.onClick,i.onClose)})})});Z.displayName=X;var $=i.forwardRef((e,t)=>{let{__scopeToast:r,altText:n,...i}=e;return(0,p.jsx)(c.sG.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function J(e,t,r,n){let{discrete:i}=n,o=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),i?(0,c.hO)(o,s):o.dispatchEvent(s)}var ee=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Math.abs(e.x),i=Math.abs(e.y),o=n>i;return"left"===t||"right"===t?o&&n>r:!o&&i>r};function et(e){let t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var er=j,en=M,ei=G,eo=Q,es=U,ea=H,eu=Z},8387:(e,t,r)=>{r.d(t,{UU:()=>h,WG:()=>y,cI:()=>w});var n=r(6232),i=r(9607),o=r(3313),s=(e,t)=>{if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)s(e[r],t);else if("object"==typeof e&&null!==e)for(var i in e)"__typename"===i&&"string"==typeof e[i]?t.add(e[i]):s(e[i],t);return t},a=e=>{if("definitions"in e){for(var t=[],r=0,i=e.definitions.length;r<i;r++){var o=a(e.definitions[r]);t.push(o)}return{...e,definitions:t}}if("directives"in e&&e.directives&&e.directives.length){for(var s=[],u={},l=0,c=e.directives.length;l<c;l++){var d=e.directives[l],p=d.name.value;"_"!==p[0]?s.push(d):p=p.slice(1),u[p]=d}e={...e,directives:s,_directives:u}}if("selectionSet"in e){var v=[],f=e.kind===n.b8.OPERATION_DEFINITION;if(e.selectionSet){for(var y=0,m=e.selectionSet.selections.length;y<m;y++){var w=e.selectionSet.selections[y];f=f||w.kind===n.b8.FIELD&&"__typename"===w.name.value&&!w.alias;var h=a(w);v.push(h)}return f||v.push({kind:n.b8.FIELD,name:{kind:n.b8.NAME,value:"__typename"},_generated:!0}),{...e,selectionSet:{...e.selectionSet,selections:v}}}}return e},u=new Map;function l(e){var t=t=>e(t);return t.toPromise=()=>(0,o.hq)((0,o.s)(1)((0,o.pb)(e=>!e.stale&&!e.hasNext)(t))),t.then=(e,r)=>t.toPromise().then(e,r),t.subscribe=e=>(0,o.B1)(e)(t),t}function c(e,t,r){return{...t,kind:e,context:t.context?{...t.context,...r}:r||t.context}}var d=(e,t)=>c(e.kind,e,{meta:{...e.context.meta,...t}}),p=()=>{},v=({kind:e})=>"mutation"!==e&&"query"!==e,f=e=>{var t=(e=>{var t=(0,i.k)(e),r=u.get(t.__key);return r||(u.set(t.__key,r=a(t)),Object.defineProperty(r,"__key",{value:t.__key,enumerable:!1})),r})(e.query);if(t===e.query)return e;var r=c(e.kind,e);return r.query=t,r},y=({forward:e,client:t,dispatchDebug:r})=>{var n=new Map,a=new Map,u=e=>"query"===e.kind&&"network-only"!==e.context.requestPolicy&&("cache-only"===e.context.requestPolicy||n.has(e.key));return r=>{var l=(0,o.Tj)(e=>{var r=n.get(e.key),o=r||(0,i.m)(e,{data:null});return o={...o,operation:d(e,{cacheOutcome:r?"hit":"miss"})},"cache-and-network"===e.context.requestPolicy&&(o.stale=!0,m(t,e)),o})((0,o.pb)(e=>!v(e)&&u(e))(r)),c=(0,o.Mi)(e=>{var{operation:r}=e;if(r){var i=r.context.additionalTypenames||[];if("subscription"!==e.operation.kind&&(i=[...s(e.data,new Set)].concat(i)),"mutation"===e.operation.kind||"subscription"===e.operation.kind){for(var o=new Set,u=0;u<i.length;u++){var l=i[u],c=a.get(l);for(var d of(c||a.set(l,c=new Set),c.values()))o.add(d);c.clear()}for(var p of o.values())n.has(p)&&(r=n.get(p).operation,n.delete(p),m(t,r))}else if("query"===r.kind&&e.data){n.set(r.key,e);for(var v=0;v<i.length;v++){var f=i[v],y=a.get(f);y||a.set(f,y=new Set),y.add(r.key)}}}})(e((0,o.pb)(e=>"query"!==e.kind||"cache-only"!==e.context.requestPolicy)((0,o.Tj)(e=>d(e,{cacheOutcome:"miss"}))((0,o.h1)([(0,o.Tj)(f)((0,o.pb)(e=>!v(e)&&!u(e))(r)),(0,o.pb)(e=>v(e))(r)])))));return(0,o.h1)([l,c])}},m=(e,t)=>e.reexecuteOperation(c(t.kind,t,{requestPolicy:"network-only"})),w=({forward:e,dispatchDebug:t})=>t=>{var r=(0,o.ZZ)(e=>{var r=(0,i.a)(e),n=(0,i.d)(e,r),s=(0,i.e)(e,r);return(0,o.QK)((0,o.pb)(t=>"teardown"===t.kind&&t.key===e.key)(t))((0,i.f)(e,n,s))})((0,o.pb)(e=>"teardown"!==e.kind&&("subscription"!==e.kind||!!e.context.fetchSubscriptions))(t)),n=e((0,o.pb)(e=>"teardown"===e.kind||"subscription"===e.kind&&!e.context.fetchSubscriptions)(t));return(0,o.h1)([r,n])},h=function e(t){let r;var n=0,s=new Map,a=new Map,u=new Set,d=[],v={url:t.url,fetchSubscriptions:t.fetchSubscriptions,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},f=(0,o.PT)();function y(e){"mutation"!==e.kind&&"teardown"!==e.kind&&u.has(e.key)||("teardown"===e.kind?u.delete(e.key):"mutation"!==e.kind&&u.add(e.key),f.next(e))}var m=!1;function w(e){if(e&&y(e),!m){for(m=!0;m&&(e=d.shift());)y(e);m=!1}}var h=e=>{var t=(0,o.QK)((0,o.pb)(t=>"teardown"===t.kind&&t.key===e.key)(f.source))((0,o.pb)(t=>t.operation.kind===e.kind&&t.operation.key===e.key&&(!t.operation.context._instance||t.operation.context._instance===e.context._instance))(E));return t="query"!==e.kind?(0,o.v6)(e=>!!e.hasNext,!0)(t):(0,o.nx)(t=>{var r=(0,o.Ys)(t);return t.stale||t.hasNext?r:(0,o.h1)([r,(0,o.Tj)(()=>(t.stale=!0,t))((0,o.s)(1)((0,o.pb)(t=>t.key===e.key)(f.source)))])})(t),t="mutation"!==e.kind?(0,o.HT)(()=>{u.delete(e.key),s.delete(e.key),a.delete(e.key),m=!1;for(var t=d.length-1;t>=0;t--)d[t].key===e.key&&d.splice(t,1);y(c("teardown",e,e.context))})((0,o.oT)(t=>{if(t.stale)if(t.hasNext)for(var r=0;r<d.length;r++){var n=d[r];if(n.key===t.operation.key){u.delete(n.key);break}}else u.delete(e.key);else t.hasNext||u.delete(e.key);s.set(e.key,t)})(t)):(0,o.ao)(()=>{y(e)})(t),(0,o.uM)(t)},b=Object.assign(this instanceof e?this:Object.create(e.prototype),{suspense:!!t.suspense,operations$:f.source,reexecuteOperation(e){if("teardown"===e.kind)w(e);else if("mutation"===e.kind)d.push(e),Promise.resolve().then(w);else if(a.has(e.key)){for(var t=!1,r=0;r<d.length;r++)d[r].key===e.key&&(d[r]=e,t=!0);t||u.has(e.key)&&"network-only"!==e.context.requestPolicy?u.delete(e.key):d.push(e),Promise.resolve().then(w)}},createRequestOperation:(e,t,r)=>(r||(r={}),c(e,t,{_instance:"mutation"===e?n=n+1|0:void 0,...v,...r,requestPolicy:r.requestPolicy||v.requestPolicy,suspense:r.suspense||!1!==r.suspense&&b.suspense})),executeRequestOperation:e=>"mutation"===e.kind?l(h(e)):l((0,o.RZ)(()=>{var t=a.get(e.key);t||a.set(e.key,t=h(e)),t=(0,o.ao)(()=>{w(e)})(t);var r=s.get(e.key);return"query"===e.kind&&r&&(r.stale||r.hasNext)?(0,o.nx)(o.Ys)((0,o.h1)([t,(0,o.pb)(t=>t===s.get(e.key))((0,o.Ys)(r))])):t})),executeQuery(e,t){var r=b.createRequestOperation("query",e,t);return b.executeRequestOperation(r)},executeSubscription(e,t){var r=b.createRequestOperation("subscription",e,t);return b.executeRequestOperation(r)},executeMutation(e,t){var r=b.createRequestOperation("mutation",e,t);return b.executeRequestOperation(r)},readQuery(e,t,r){var n=null;return(0,o.B1)(e=>{n=e})(b.query(e,t,r)).unsubscribe(),n},query:(e,t,r)=>b.executeQuery((0,i.h)(e,t),r),subscription:(e,t,r)=>b.executeSubscription((0,i.h)(e,t),r),mutation:(e,t,r)=>b.executeMutation((0,i.h)(e,t),r)}),x=(r=t.exchanges,({client:e,forward:t,dispatchDebug:n})=>r.reduceRight((t,r)=>r({client:e,forward:e=>(0,o.uM)(t((0,o.uM)(e))),dispatchDebug(e){}}),t)),E=(0,o.uM)(x({client:b,dispatchDebug:p,forward:(({dispatchDebug:e})=>e=>(0,o.pb)(e=>!1)(e))({dispatchDebug:p})})(f.source));return(0,o.mk)(E),b}}}]);